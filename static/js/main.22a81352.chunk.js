(this["webpackJsonposrs-chunk"]=this["webpackJsonposrs-chunk"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(3),o=n.n(r),s=n(5),a=n(2);function u(e,t){var n=Object(a.a)(t,2),c=n[0],i=n[1];return!!e.find((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return c===n&&i===r}))}var d=n(0),l=function(e){var t=e.chunk,n=e.onClick,i=e.showCoords,r=void 0!==i&&i,o=Object(c.useRef)(null),a=Object(c.useRef)(!1),l=function(e){a.current=e},j=Object(c.useRef)(0),b=function(e){j.current=e};function h(){b(0),l(!1)}function f(e){0===e.button&&l(!0)}function O(e){a.current&&0===e.button&&(j.current<=10&&n&&n(),h())}function v(e){if(a.current){var t=e.movementX,n=e.movementY;b(j.current+Math.sqrt(t*t+n*n))}}return Object(c.useEffect)((function(){var e=o.current;e&&(e.addEventListener("mousedown",f),e.addEventListener("mouseup",O),e.addEventListener("mousemove",v),e.addEventListener("mouseenter",h),e.addEventListener("mouseleave",h))}),[o]),Object(d.jsx)("td",{className:u(s.impossible,[t.x,t.y])?"impossible":void 0,ref:o,children:r&&Object(d.jsxs)(d.Fragment,{children:["(",t.x,", ",t.y,")"]})})},j=n(6),b=function(e){var t=e.checked,n=e.children,c=e.onChange;return Object(d.jsxs)("label",{className:"toggle-switch",children:[Object(d.jsx)("input",{checked:t,type:"checkbox",onChange:c}),Object(d.jsx)("i",{}),n]})},h=n(7),f=function e(t,n){Object(h.a)(this,e),this.x=void 0,this.y=void 0,this.unlocked=!1,this.x=t,this.y=n};function O(){var e=Object(c.useRef)(null),t=Object(c.useState)(function(e,t){for(var n=[],c=0;c<t;c++){n.push([]);for(var i=0;i<e;i++)n[c].push(new f(i,c))}return n}(43,25)),n=Object(a.a)(t,1)[0],i=Object(c.useState)(),r=Object(a.a)(i,2),o=r[0],s=r[1],u=Object(c.useState)({scale:1.2,translation:{x:0,y:0}}),h=Object(a.a)(u,2),O=h[0],v=h[1],x=Object(c.useState)({width:window.innerWidth,height:window.innerHeight}),p=Object(a.a)(x,2),k=p[0],g=p[1],w=Object(c.useState)(!1),C=Object(a.a)(w,2),y=C[0],S=C[1],E=Object(c.useState)(!1),N=Object(a.a)(E,2),L=N[0],M=N[1];Object(c.useEffect)((function(){window.addEventListener("resize",(function(){g({width:window.innerWidth,height:window.innerHeight})}))}),[]),Object(c.useEffect)((function(){e.current&&(o?e.current.open():e.current.close())}),[e,o]);var F=O.scale,I=k.width/8256,R=k.height/4800,B=I>R?I:R;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j.MapInteractionCSS,{value:O,onChange:v,translationBounds:{xMax:0,yMax:0,xMin:-8256*F+k.width,yMin:-4800*F+k.height},minScale:B,children:Object(d.jsx)("table",{id:"map",cellSpacing:0,cellPadding:0,className:F>1?"zoomed-in":"",children:Object(d.jsx)("tbody",{children:n.map((function(e,t){return Object(d.jsx)("tr",{children:e.map((function(e,n){return Object(d.jsx)(l,{chunk:e,onClick:function(){return s(e)},showCoords:L},"chunk-".concat(n,"-").concat(t))}))},"row-".concat(t))}))})})}),Object(d.jsx)("div",{className:"controls pin-top-left",children:y?Object(d.jsxs)("div",{id:"sidebar",children:[Object(d.jsx)("div",{className:"controls pin-top-right",children:Object(d.jsx)("button",{onClick:function(){return S(!1)},"aria-label":"Hide sidebar",children:"<"})}),Object(d.jsx)("form",{children:Object(d.jsx)(b,{checked:L,onChange:function(e){return M(e.target.checked)},children:"Show Chunk Coords"})})]}):Object(d.jsx)("button",{onClick:function(){return S(!0)},"aria-label":"Show sidebar",children:">"})}),Object(d.jsx)("div",{className:"controls pin-bottom-right margin",children:Object(d.jsx)("button",{onClick:function(){return v({scale:B,translation:{x:0,y:0}})},children:"zoom out"})}),Object(d.jsx)(m,{ref:e,children:Object(d.jsx)("div",{id:"chunk-modal",children:Object(d.jsxs)("h1",{children:["Chunk (",null===o||void 0===o?void 0:o.x,", ",null===o||void 0===o?void 0:o.y,")"]})})})]})}var v=document.getElementById("modal-root"),m=Object(c.forwardRef)((function(e,t){var n=e.children,i=e.defaultOpened,o=void 0!==i&&i,s=e.fade,u=void 0!==s&&s,l=Object(c.useState)(o),j=Object(a.a)(l,2),b=j[0],h=j[1],f=Object(c.useCallback)((function(){return h(!1)}),[]);Object(c.useImperativeHandle)(t,(function(){return{open:function(){return h(!0)},close:f}}),[f]);var O=Object(c.useCallback)((function(e){27===e.keyCode&&f()}),[f]);return Object(c.useEffect)((function(){return b&&document.addEventListener("keydown",O,!1),function(){document.removeEventListener("keydown",O,!1)}}),[O,b]),Object(r.createPortal)(b?Object(d.jsxs)("div",{className:"modal ".concat(u?"modal-fade":""),children:[Object(d.jsx)("div",{className:"modal-overlay",onClick:f}),Object(d.jsx)("span",{role:"button",className:"modal-close","aria-label":"close",onClick:f,children:"x"}),Object(d.jsx)("div",{className:"modal-body",children:n})]}):null,v)})),x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),r(e),o(e)}))};n(16);o.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root")),x()},5:function(e){e.exports=JSON.parse('{"impossible":[[7,1]]}')}},[[17,1,2]]]);
//# sourceMappingURL=main.22a81352.chunk.js.map